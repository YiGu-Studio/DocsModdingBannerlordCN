

<!DOCTYPE html>
<html>
  <head>
    <title>
	SCRIPTS :: 骑马与砍杀 霸主 Mod 开发文档
</title>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2020-10-04T17:15:03 PDT">
<meta name="description" content="">



<title>SCRIPTS :: 骑马与砍杀 霸主 Mod 开发文档</title>

<link rel="shortcut icon" href='/DocsModdingBannerlordCN/images/favicon.png' type="image/x-icon" />


<link href='/DocsModdingBannerlordCN/vendor/bootstrap/bootstrap-4.5.2-dist/css/bootstrap.min.css' rel="stylesheet"> 


<link rel="preload" as="style" href='/DocsModdingBannerlordCN/fonts/Montserrat/Montserrat.css'>
<link rel="stylesheet" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/layout.css'>
<link rel="stylesheet" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/css/style.main.css'>
<link rel="stylesheet" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/css/style.menu.css'>
<link href='/DocsModdingBannerlordCN/vendor/FontAwesome/fontawesome-free-5.14.0-web/css/all.min.css' rel="stylesheet"> 

<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/notice.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/tabs.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/panel.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/columns.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/children.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/attachments.css'>
<link rel="stylesheet" type="text/css" href='https://yigu-studio.github.io/DocsModdingBannerlordCN/sass/shortcodes/alert.css'>

<link rel="stylesheet" href='/DocsModdingBannerlordCN/css/docport.css'>


<script src='/DocsModdingBannerlordCN/vendor/jquery/jquery-3.5.1.min.js'></script>
<script src='/DocsModdingBannerlordCN/vendor/bootstrap/bootstrap-4.5.2-dist/js/bootstrap.min.js' crossorigin="anonymous"></script>

<script src='/DocsModdingBannerlordCN/js/docport.js'></script>
<script type="text/javascript">
      var baseurl = "https:\/\/yigu-studio.github.io\/DocsModdingBannerlordCN\/";
</script>





    
  </head>

  <body data-url="/DocsModdingBannerlordCN/asset-management/asset-types/scripts/"

  class="hidebreadcrumb hidetoc ">

<style type="text/css">
  #debug{
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    line-height: 3.5rem;
    margin-bottom: .35rem;
    padding: 0 2rem;
    position: fixed;
    left: 0;      right: 0;     top: 0;
   
    top:0px;
    
    min-height: 150px;

    background-color: white;
    border: 3px solid red;
    z-index: 10000 ;
    word-wrap: all;
    overflow: auto;
  }
</style>
 


    
    
    <header style="">
        <div>
    
    <div class="burger ">
        <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">&#9776;</a>
    </div>
    

    <div>

		
	
			
		
	    	<a class='baselink' href='https://yigu-studio.github.io/DocsModdingBannerlordCN/'>骑马与砍杀 霸主 Mod 开发文档</a>
	  	
	</div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="/DocsModdingBannerlordCN/zh"  rel="noopener">
                  中文
                </a>
            </li>
            <li class="" role="">
                <a href="/DocsModdingBannerlordCN/en"  rel="noopener">
                  English
                </a>
            </li>
    </nav>

</div>
    </header>
    

    <article>
      
      <aside class="">
        
<div class="search">
	<div class="searchbox">
	  <input data-search-input id="search-by" type="text" placeholder="">
	</div>
	<script type="text/javascript" src="/DocsModdingBannerlordCN/vendor/lunr/lunr.min.js"></script>
	<script type="text/javascript" src="/DocsModdingBannerlordCN/vendor/auto-complete/auto-complete.js"></script>
	<link href="/DocsModdingBannerlordCN/vendor/auto-complete/auto-complete.css" rel="stylesheet">
	<script type="text/javascript">
	  
	      var baseurl = "https:\/\/yigu-studio.github.io\/DocsModdingBannerlordCN\/";
	  
	</script>
	<script type="text/javascript" src="/DocsModdingBannerlordCN/js/search.js"></script>
</div>

		
	
			
		
	    	
	  	
	<div id="close_menu">
  <a href="javascript:void(0);" style="font-size:15px;" onclick="$('article > aside').toggleClass('responsive')">
      <i class="fa fa-lg fa-times"></i>
  </a>
</div>

<ul class="menu">

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/" class="dd-item parent haschildren
        item_level_$level
        ">

      
      
      
      
          <i class="fas fa-chevron-down ddexp"></i>
        
      
          <a href="/DocsModdingBannerlordCN/asset-management/">资源管理</a>
      
        <ul>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/quick-guides/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/quick-guides/">创建一个Mod - 快速入门</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/" class="dd-item parent haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/">资源类型</a>
      
          <i class="fas fa-chevron-down ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/overriding-assets/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/overriding-assets/">ADDING &amp; OVERRIDING ASSETS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/bodies/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/bodies/">BODIES</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/prefabs/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/prefabs/">ENTITIES &amp; PREFABS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/materials/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/materials/">MATERIALS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/meshes/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/meshes/">MESHES</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/asset-naming-conventions/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/asset-naming-conventions/">NAMING CONVENTIONS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/overriding-scenes-prefabs/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/overriding-scenes-prefabs/">OVERRIDING SCENES AND PREFABS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/path/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/path/">PATHS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/scripts/" class="dd-item parent active
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/scripts/">SCRIPTS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/asset-management/asset-types/textures/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/asset-management/asset-types/textures/">TEXTURES</a>
      
        
      
    </li>
        </ul>
    </li>
        </ul>
    </li>
    

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/bannerlord-missions/" class="dd-item
        item_level_$level
        ">

      
      
      
      
        
      
          <a href="/DocsModdingBannerlordCN/bannerlord-missions/">BANNERLORD 任务</a>
      
    </li>
    

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      <i class="fas fa-chevron-right ddexp"></i>
        
      
          <a href="/DocsModdingBannerlordCN/editor/">编辑器</a>
      
        <ul>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/">RESOURCE EDITORS</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/cloth-simulation/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/cloth-simulation/">CLOTH SIMULATION</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/material-editor/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/material-editor/">MATERIAL EDITOR</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/meta-mesh-editor/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/meta-mesh-editor/">META MESH EDITOR</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/model-viewer/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/model-viewer/">MODEL VIEWER</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/particle-editor/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/particle-editor/">PARTICLE EDITOR</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/skeleton-editor/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/skeleton-editor/">SKELETON EDITOR</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/resource-editors/texture-editor/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/resource-editors/texture-editor/">TEXTURE EDITOR</a>
      
        
      
    </li>
        </ul>
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/scene-editor/" class="dd-item haschildren
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/scene-editor/">SCENE EDITOR</a>
      <i class="fas fa-chevron-right ddexp"></i>
        
      
        <ul>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/scene-editor/creating-entity/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/scene-editor/creating-entity/">CREATING ENTITY</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/scene-editor/editor-shortcuts/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/scene-editor/editor-shortcuts/">EDITOR SHORTCUTS</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/scene-editor/path-editing/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/scene-editor/path-editing/">PATH EDITING</a>
      
        
      
    </li>
              

    <li data-nav-id="https://yigu-studio.github.io/DocsModdingBannerlordCN/editor/scene-editor/terrain-creation/" class="dd-item
        item_level_$level
        ">

      
      
      
      
          <a href="/DocsModdingBannerlordCN/editor/scene-editor/terrain-creation/">TERRAIN CREATION</a>
      
        
      
    </li>
        </ul>
    </li>
        </ul>
    </li>
    



</ul>

		
	
			
		
	    	
	  	
	
      </aside>
      

      <section class="page ">
      
	
		
    
    
    

    
		
        
		
		
		
		
		
		
		

		
			<h1>SCRIPTS</h1>
        

		
										
		

		
	

	
	
	






	<div class="content">
	    <p>Script components are executable scripts that are attached to entities and can be used to implement various gameplay functionalities. In Bannerlord, many gameplay logic are written via script components. For example chairs, dropped weapon, siege machines. There are many different callbacks that can be inherited and filled in these script components.</p>
<h4 ref="callbacks" >Callbacks</h4><a class="anchor" id="callbacks"></a>
<ul>
<li>Constructor: In constructor one needs to assign default values to its public variables(variables which can be changed by the scene maker). In constructor script component is not assigned to an entity or scene. Also, you should not write any logic that has any side effect because , even though it is created, the script component may be deleted once the scene is opened because of the upgrade level system.</li>
<li>OnPreInit: This is called after the script component is assigned to its owner entity in the scene. Once you are in this callback , you can be sure that the user defined variables from that script instance are set. However, the other script components of the other entities may not be assigned yet. Thus, in pre init there should not be any logic code that relies on other script components. Example, in pre-init ManagedObject registers himself to the managed object array in the current mission instance.</li>
<li>OnInit: This is called once the mission is loaded and all of the script components of the entities are initialized. You can use any type of logic code inside this callback. Run time instantiated scripts also get this callback called.</li>
<li>OnEditorInit: Editor version of on init. It is called when the scene is loaded from the editor. Beware that there is no mission or game state in editor.</li>
<li>OnTick: This is called for every script component every frame on mission from the same thread.</li>
<li>OnEditorTick: Editor version of the OnTick function.</li>
<li>IsOnlyVisual: If you have a script component which is only visual and does not have any logic code that should be running in the dedicated server , you should return true in this function. This ensures that this type of scripts does not run on dedicated server.</li>
<li>OnEditorVariableChanged: This is called in editor whenever a public variable in that script component is changed by the user. This callback can be used for any visual-logic state change if the artist needs instant feedback on the editor scene.</li>
<li>OnRemoved: Called when the entity or the script component is being removed. If you have any allocated objects which are stored in somewhere else (for example static containers), you can use this callback to ensure that they are not leaked.</li>
</ul>

		
</div>






	 
	<div class="chevrons">
		<a class="next" href="/DocsModdingBannerlordCN/asset-management/asset-types/textures/" title="TEXTURES" style="margin-right: 0px;">
            <div>
                <p></p>
                <label>TEXTURES</label>
            </div>
            <i class="fas fa-arrow-right" style="font-size: 1.7em"></i></a>
	</div>
	
	

      </section>

      
      
    </article>
    
    
    <footer>
      

		
	
			
		
	    	
	  	
	
    </footer>
    



  </body>
</html>
